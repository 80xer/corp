<!DOCTYPE html>
<html lang="en">
<head>
  <!-- META DATA -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <!--<meta name="description" content="THISGROUND">-->
  <title>MAIL@THISGROUND</title>

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/images/ico/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/images/ico/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/images/ico/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="assets/images/ico/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="assets/images/ico/favicon.png">

  <!-- STYLESHEETS -->
  <link rel="stylesheet" href="assets/style/bootstrap-uncompressed.css" type="text/css" />

  <link rel="apple-touch-icon" href="//mindmup.s3.amazonaws.com/lib/img/apple-touch-icon.png" />
  <link href="external/google-code-prettify/prettify.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css" rel="stylesheet">
  <link href="stylesheets/index.css" rel="stylesheet">


  <script src="assets/js/jquery-1.10.2.min.js" type="text/javascript"></script>
  <script src="external/jquery.hotkeys.js"></script>
  <script src="assets/js/bootstrap/bootstrap.min.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
  <script src="assets/js/bootstrap/html5shiv.js"></script>
  <![endif]-->

  <!-- http://mindmup.github.io/bootstrap-wysiwyg/ -->
  <script src="external/google-code-prettify/prettify.js"></script>
  <script src="external/bootstrap-wysiwyg.js" type="text/javascript"></script>

  <!-- GOOGLE WEB FONTS -->
  <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,600,300,800' rel='stylesheet' type='text/css'>-->

  <style>
    input[type='text'] {
      font-size: 0.9em !important;
      background-color: #fff !important;
    }
  </style>
</head>
<body>
<!-- PAGE | CONTACT -->
<div class="pages page-contact" id="page-contact">
  <div class="container">
    <!-- Header -->
    <header>
      <h4 class="line-divider">thisground mail</h4>

      <button id="usage" type="button" class="btn btn-default" data-container="body" data-toggle="popover" data-placement="bottom">
        Usage
      </button>
    </header>
    <!-- End Header -->
    <!-- Start Article -->
    <article>
      <div class="row-fluid">
        <!-- Contact form -->
        <div class="span12">

          <form action="uploadAddress" method="post" enctype="multipart/form-data" style="display:none;">
            <input id="openAddress" type="file" name="openAddress"/>
            <input id="uploadAddress" type="submit" name="uploadAddress"/>
          </form>

          <form method="post" action="sendYooriEmail">
            TITLE<input style="background-color: #fff;" id="emailSubject" name="emailSubject" type="text" class="span12" placeholder="Title" value="Hi $name!, like your work a lot!" required="required">
            TO
            <div>
              <button style="float:right" id="changeFile" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="파일올리기 영역<br>보기/숨기기">CHANGE FILE</button>
              <button style="float:right; margin-right:10px;" id="showAllAddress" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="받는 사람 모든 목록<br>보기/숨기기">SHOW ALL</button>
              <div style="overflow: hidden; padding-right: .5em;">
                <input style="background-color: #fff;" id="to" name="to" readonly type="text" class="span12" placeholder="Email" required="required">
              </div>
            </div>
            <div style="display:none;">
              <input value="YooriKim" id="emailFrom" readonly name="emailFrom" type="text" class="span12" placeholder="Email" required="required">
            </div>
            <div id="allAddress" style="display:none;">
              <div>
                <div style="overflow: hidden; padding-right: .5em;">
                  <textarea style="font-size: 0.9em; background-color: #fff;" id="emailTo" readonly name="emailTo" rows="10" class="span12"></textarea>
                </div>
              </div>
            </div>
            <div id="fileUpload" style="display:none;">
              FILE
              <div>
                <button style="float:right" id="linkUpload" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="파일올리기">UPLOAD</button>
                <button style="float:right; margin-right:10px;" id="linkOpen" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="파일선택 창 열기">SELECT FILE</button>
                <div style="overflow: hidden; padding-right: .5em;">
                  <input style="background-color: #fff;" id="localFilePath" readonly type="text" class="span12" placeholder="file name" required="required">
                </div>
              </div>
            </div>
            <div style="display:none; height:300px;">
              <div style="height:300px; overflow:auto;" class="span5">

              </div>
              <div class="span2">

              </div>
              <div class="span5">

              </div>
            </div>
            <div>
              CONTENT
              <div id="alerts"></div>
              <div class="btn-toolbar" data-role="editor-toolbar" data-target="#editor">
                <div class="btn-group">
                  <a class="btn dropdown-toggle" data-toggle="dropdown" title="Font"><i class="icon-font"></i><b class="caret"></b></a>
                  <ul class="dropdown-menu">
                  </ul>
                </div>
                <div class="btn-group">
                  <a class="btn dropdown-toggle" data-toggle="dropdown" title="Font Size"><i class="icon-text-height"></i>&nbsp;<b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    <li><a data-edit="fontSize 5"><font size="5">Huge</font></a></li>
                    <li><a data-edit="fontSize 3"><font size="3">Normal</font></a></li>
                    <li><a data-edit="fontSize 1"><font size="1">Small</font></a></li>
                  </ul>
                </div>
                <div class="btn-group">
                  <a class="btn" data-edit="bold" title="Bold (Ctrl/Cmd+B)"><i class="icon-bold"></i></a>
                  <a class="btn" data-edit="italic" title="Italic (Ctrl/Cmd+I)"><i class="icon-italic"></i></a>
                  <a class="btn" data-edit="strikethrough" title="Strikethrough"><i class="icon-strikethrough"></i></a>
                  <a class="btn" data-edit="underline" title="Underline (Ctrl/Cmd+U)"><i class="icon-underline"></i></a>
                </div>
                <div class="btn-group">
                  <a class="btn" data-edit="insertunorderedlist" title="Bullet list"><i class="icon-list-ul"></i></a>
                  <a class="btn" data-edit="insertorderedlist" title="Number list"><i class="icon-list-ol"></i></a>
                  <a class="btn" data-edit="outdent" title="Reduce indent (Shift+Tab)"><i class="icon-indent-left"></i></a>
                  <a class="btn" data-edit="indent" title="Indent (Tab)"><i class="icon-indent-right"></i></a>
                </div>
                <div class="btn-group">
                  <a class="btn" data-edit="justifyleft" title="Align Left (Ctrl/Cmd+L)"><i class="icon-align-left"></i></a>
                  <a class="btn" data-edit="justifycenter" title="Center (Ctrl/Cmd+E)"><i class="icon-align-center"></i></a>
                  <a class="btn" data-edit="justifyright" title="Align Right (Ctrl/Cmd+R)"><i class="icon-align-right"></i></a>
                  <a class="btn" data-edit="justifyfull" title="Justify (Ctrl/Cmd+J)"><i class="icon-align-justify"></i></a>
                </div>
                <div class="btn-group">
                  <a class="btn dropdown-toggle" data-toggle="dropdown" title="Hyperlink"><i class="icon-link"></i></a>
                  <div class="dropdown-menu input-append">
                    <input style="width:125px;" class="span2" placeholder="URL" type="text" data-edit="createLink"/>
                    <button class="btn" type="button">Add</button>
                  </div>
                  <a class="btn" data-edit="unlink" title="Remove Hyperlink"><i class="icon-cut"></i></a>

                </div>

                <div class="btn-group">
                  <a class="btn" title="Insert picture (or just drag & drop)" id="pictureBtn"><i class="icon-picture"></i></a>
                  <input type="file" data-role="magic-overlay" data-target="#pictureBtn" data-edit="insertImage" />
                </div>
                <div class="btn-group">
                  <a class="btn" data-edit="undo" title="Undo (Ctrl/Cmd+Z)"><i class="icon-undo"></i></a>
                  <a class="btn" data-edit="redo" title="Redo (Ctrl/Cmd+Y)"><i class="icon-repeat"></i></a>
                </div>
                <!--<input type="text" data-edit="inserttext" id="voiceBtn" x-webkit-speech="">-->
              </div>

              <div id="editor">
                <div style="font-family: arial, sans-serif; font-size: 13px;"><font face="Times New Roman" style="font-size: 12pt;">Hello,&nbsp;</font><br><div><font face="Times New Roman" style="font-size: 12pt;"><br></font><br><font face="Times New Roman" style="font-size: 12pt;">My name is Yoori, a CMO of&nbsp;</font><font face="Times New Roman" style="font-size: 12pt;"><b>startup called THISGROUND.</b></font><font face="Times New Roman" style="font-size: 12pt;"><br></font><br><font face="Times New Roman" style="font-size: 12pt;"><br></font><br><font face="Times New Roman" style="font-size: 12pt;">We are&nbsp;</font><font face="Times New Roman" style="font-size: 12pt;">contacting you to introduce&nbsp;</font><font face="Times New Roman" style="font-size: 12pt;">our startup and ask for your consideration on participating in our project.&nbsp;</font><font face="Times New Roman" style="font-size: 12pt;"><br></font><br><font face="Times New Roman" style="font-size: 12pt;"><br></font><br><font face="Times New Roman" style="font-size: 12pt;">THISGROUND is an exclusive invite-only social networking platform for artists from all over the world.&nbsp;</font><font face="Times New Roman" style="font-size: 12pt;"><br></font><br><font face="Times New Roman" style="font-size: 12pt;"><br></font><br></div><div><div><p dir="ltr"><font face="Times New Roman" style="font-size: 12pt;">In the first stage, we are going to work with 300 invited artists (including you hopefully ;) )and in the near future, we are thinking about expanding members. New members will be invited only through your recommendation. We are going to work with all kinds of artist from photography, music, video, painting and so on.&nbsp;</font><font face="Times New Roman" style="font-size: 12pt;"><br></font></p><p dir="ltr"><font face="Times New Roman" style="font-size: 12pt;"><br></font></p></div><p dir="ltr"><font face="Times New Roman" style="font-size: 12pt;">We saw all of your works, and all was super inspiring! So we would like to invite you to become part of our project. Before we go official we would like to advertise your work through existing social network services like facebook, instagram, Tumblr etc.</font></p><p dir="ltr"><font face="Times New Roman" style="font-size: 12pt;"><br></font></p></div><div><p dir="ltr"><font face="Times New Roman" style="font-size: 12pt;">Would it be OK for us to introduce your work to our social platform?</font></p><p dir="ltr"><font face="Times New Roman" style="font-size: 12pt;"></font><font face="Times New Roman" style="font-size: 12pt;"><br></font></p></div></div><div style="font-family: arial, sans-serif; font-size: 13px;"><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><font face="Times New Roman" style="font-size: 12pt;">Please visit our facebook page&nbsp;</font></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><font face="Times New Roman" style="font-size: 12pt;">(</font><font face="Times New Roman" style="font-size: 12pt;"><a href="https://www.facebook.com/pages/THISGROUND/306451286160039" target="_blank" style="color: rgb(17, 85, 204);">https://www.facebook.com/<wbr>pages/THISGROUND/<wbr>306451286160039</a></font><font face="Times New Roman" style="font-size: 12pt;">), and please let me know.</font></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><br></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><font face="Times New Roman" style="font-size: 12pt;">I wish we could work together!&nbsp;<br></font></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><font face="Times New Roman" style="font-size: 12pt;">Looking forward to hearing back from you soon!</font></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><br></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><font face="Times New Roman" style="font-size: 12pt;">Thank you!</font></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><br></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><br></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><font face="Times New Roman" style="font-size: 12pt;">Very Best,</font></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><br><font face="Times New Roman" style="font-size: 12pt;">Yoori</font></p><p dir="ltr" style="color: rgb(34, 34, 34); line-height: normal;"><font style="font-size: 12pt;"><br></font><font face="Times New Roman" style="font-size: 12pt;">CMO of&nbsp;</font><font face="Times New Roman" style="font-size: 12pt;"><b>startup called THISGROUND</b></font></p><div><font face="Times New Roman" style="font-size: 12pt;"><b><br></b></font></div></div>
              </div>
            </div>

            <div style="margin-top:10px;">
              SIGNATURE (READ ONLY)
              <div id="editorSign">
                <img src="http://thisground.com/files/logo.png" width="96" height="30" style="color: rgb(34, 34, 34); font-family: arial, sans-serif; line-height: normal;"><br style="color: rgb(34, 34, 34); font-family: arial, sans-serif; line-height: normal;"><div style="color: rgb(34, 34, 34); font-family: arial, sans-serif; line-height: normal;"><font face="times new roman, serif"><span style="color: rgb(51, 51, 51); font-size: 12px; line-height: 15.359999656677246px;">Build your ground in&nbsp;<b>THISGROUD</b>&nbsp;with various inspiration!&nbsp;</span><br style="color: rgb(51, 51, 51); font-size: 12px; line-height: 15.359999656677246px;"><span style="color: rgb(51, 51, 51); font-size: 12px; line-height: 15.359999656677246px;"><b>THISGROUND</b>&nbsp;is a place to share creative activity.</span></font><br></div><div style="color: rgb(34, 34, 34); font-family: arial, sans-serif; line-height: normal;"><font face="times new roman, serif"><span style="color: rgb(51, 51, 51); font-size: 12px; line-height: 15.359999656677246px;"><a href="https://www.facebook.com/pages/THISGROUND/306451286160039" target="_blank" style="color: rgb(17, 85, 204);"><img src="http://thisground.com/files/fb.png"></a>&nbsp;&nbsp;<a href="http://instagram.com/thisground" target="_blank" style="color: rgb(17, 85, 204);"><img src="http://thisground.com/files/ig.png"></a></span></font></div>
              </div>
            </div>
            <div style="height:40px; margin-top:10px;">
              <button style="float:left; margin-top:5px;" id="getHTML" type="submit" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="HTML코드(읽기전용)<br>보기/숨기기">HTML CODE</button>
              <button style="float:right; margin-top:5px;" id="emailSubmit" type="submit" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="메일 보내기">Submit</button>
            </div>

            <div style="display:none; height:300px;">
              <div style="height:300px; overflow:auto;" class="span5">

              </div>
              <div class="span2">

              </div>
              <div class="span5">

              </div>
            </div>

            <div id="innerHtmlDiv" style="display:none; margin-top:30px;">
              CONTENT
              <textarea readonly style="margin-top:10px; font-size: 0.9em; background-color: #fff;" id="innerHtml" name="innerHtml" rows="20" class="span12"></textarea>
              SIGNATURE
              <textarea readonly style="margin-top:10px; font-size: 0.9em; background-color: #fff;" id="innerHtmlSign" name="innerHtml" rows="20" class="span12"></textarea>
            </div>

          </form>
        </div>
        <!-- End Contact form -->
      </div>
    </article>
    <!-- End Article -->

  </div>

</div>
<!-- END PAGE | CONTACT -->

<script src="assets/js/plugins/jquery.bxslider.min.js" type="text/javascript"></script>

<script>
  $(function(){
    $('#usage').popover({
      trigger: 'hover',
      html: true,
      content: '받는 사람 목록은 .txt 파일을 업로드 하여 관리하며 txt 파일에는 각 줄마다 <br>"받는사람이름<메일주소>" 형태로 입력되어야한다.<br>제목과 본문중에 "$name"이라고 작성된 부분은 실제로 보내지는 메일에서는 <br>받는사람이름으로 대체된다.'
    });
    $('#changeFile').tooltip({html:true});
    $('#showAllAddress').tooltip({html:true});
    $('#linkUpload').tooltip({html:true});
    $('#linkOpen').tooltip({html:true});
    $('#getHTML').tooltip({html:true});
    $('#emailSubmit').tooltip({html:true});

//    파일에서 이메일주소 목록 불러와 리스트 구현하기.
//    $.ajax('/getAddress', {
//      type:'GET',
//      success: function (data) {
//        alert(data.length);
//        var $ul = $('<ul>');
//        var $li;
//        for (var i = 0, l = data.length; i < l; i++) {
//          $li = $('<li>');
//          $li.text(data[i]);
//          $ul.append($li);
//        }
//        $('#allAddress').append($ul);
//      },
//      error: function (err) {
//
//      }
//    });

    function getAddress() {
      $.ajax('/getAddress', {
        type: 'get',
        success: function (data) {
          console.log(data);
          //console.log($('#emailTo').val());
          $('#emailTo').val(data.join().replace(/,/g, ',\r\n'));
          if (data.length == 1) {
            $('#to').val(data);
          } else if (data.length > 1) {
            $('#to').val(data[0] + '외 ' + (data.length - 1).toString() + '명');
          }

          //console.log($('#emailTo').val());
        },
        error: function (err) {

        }
      });
    }

    $('#getHTML').click(function (e) {
      e.preventDefault();
      if ($('#innerHtmlDiv').css('display') == 'none') {
        $('#innerHtml').text($('#editor').html());
        $('#innerHtmlSign').text($('#editorSign').html());
      } else {
        $('#innerHtml').text('');
        $('#innerHtmlSign').text('');
      }
      $('#innerHtmlDiv').slideToggle(200);

    })

    $('#showAllAddress').click(function (e) {
      e.preventDefault();
      $('#allAddress').slideToggle(200);
    });

    $('#changeFile').click(function (e) {
      e.preventDefault();
      $('#fileUpload').slideToggle(200);
    });

    $('#linkOpen').click(function (e) {
      e.preventDefault();
      $('#openAddress').click();
    });

    $('#linkUpload').click(function (e) {
      e.preventDefault();
      $('#uploadAddress').click();
    });

    $('#openAddress').change(function () {
      var fileName = $(this).val().split('/').pop().split('\\').pop();
      $('#localFilePath').val(fileName);
    });

    getAddress();

    $('#emailSubmit').click(function (e) {
      var content = {
        emailSubject : $('#emailSubject').val(),
        emailFrom : $('#emailFrom').val(),
        emailTo : $('#emailTo').val(),
        emailBody : $('#editor').val(),
        emailHTML : $('#editor').html()
      }
      sendMail(content);
      e.preventDefault();
    });

    function sendMail(content) {
      $.ajax('/sendYooriEmail', {type: 'POST', data:content}).success(function (data) {
//        $('#emailSubject').val('');
//        $('#emailFrom').val('');
//        $('#emailBody').val('');
        alert('Mail has been sent successfully');
      });
    }

    function initToolbarBootstrapBindings() {
      var fonts = ['Serif', 'Sans', 'Arial', 'Arial Black', 'Courier',
            'Courier New', 'Comic Sans MS', 'Helvetica', 'Impact', 'Lucida Grande', 'Lucida Sans', 'Tahoma', 'Times',
            'Times New Roman', 'Verdana'],
          fontTarget = $('[title=Font]').siblings('.dropdown-menu');
      $.each(fonts, function (idx, fontName) {
        fontTarget.append($('<li><a data-edit="fontName ' + fontName +'" style="font-family:\''+ fontName +'\'">'+fontName + '</a></li>'));
      });
      $('a[title]').tooltip({container:'body'});
      $('.dropdown-menu input').click(function() {return false;})
          .change(function () {$(this).parent('.dropdown-menu').siblings('.dropdown-toggle').dropdown('toggle');})
          .keydown('esc', function () {this.value='';$(this).change();});

      $('[data-role=magic-overlay]').each(function () {
        var overlay = $(this), target = $(overlay.data('target'));
        overlay.css('opacity', 0).css('position', 'absolute').offset(target.offset()).width(target.outerWidth()).height(target.outerHeight());
      });
      if ("onwebkitspeechchange"  in document.createElement("input")) {
        var editorOffset = $('#editor').offset();
        $('#voiceBtn').css('position','absolute').offset({top: editorOffset.top, left: editorOffset.left+$('#editor').innerWidth()-35});
      } else {
        $('#voiceBtn').hide();
      }
    };
    function showErrorAlert (reason, detail) {
      var msg='';
      if (reason==='unsupported-file-type') { msg = "Unsupported format " +detail; }
      else {
        console.log("error uploading file", reason, detail);
      }
      $('<div class="alert"> <button type="button" class="close" data-dismiss="alert">&times;</button>'+
          '<strong>File upload error</strong> '+msg+' </div>').prependTo('#alerts');
    };
    initToolbarBootstrapBindings();
    $('#editor').wysiwyg({ fileUploadError: showErrorAlert} );
    window.prettyPrint && prettyPrint();

  });
</script>
<script>

  /**
   *   Ajax request.
   *   Start loading.
   *   Append loading notification.
   */
  $( document ).ajaxSend( function() {
    /* Show loader. */
    if($(".loading").length == 0) {
      $("body").append('<div class="loading"><div class="progress progress-striped active"><div class="bar"></div></div></div>');
      $(".loading").slideDown();
      $(".loading .progress .bar").delay(300).css("width", "100%");
    }
  });

  /**
   *   Reinitialize Scrollspy after ajax request is completed.
   *   Refreshing will recalculate positions of each page in document.
   *   Time delay is added to allow ajax loaded content to expand and change height of page.
   */
  $( document ).ajaxComplete(function() {
    /* Remove loading section. */
    $(".loading").delay(1000).slideUp(500, function(){
      $(this).remove();
    });

    /* Portfolio details - close. */
    $(".close-portfolio span").click(function(e) {
      $(".portfolio-item-details").delay(500).slideUp(500, function(){
        $(this).remove();
      });

      window.location.hash= "!";
      return false;
    });
  });
</script>
<!-- GOOGLE ANALYTICS -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50831802-1', 'thisground.com');
  ga('send', 'pageview');

</script>
</body>
</html>
